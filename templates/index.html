<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Weather App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root {
        --bg-1: #061b4d;
        --bg-2: #0a3d8f;
        --bg-3: #1d86ff;
        --accent: #6bd3ff;
        --glass: rgba(255, 255, 255, 0.14);
        --glass-strong: rgba(255, 255, 255, 0.22);
        --glass-border: rgba(255, 255, 255, 0.35);
        --text-muted: rgba(255, 255, 255, 0.78);
      }

      body {
        font-family: "DM Sans", "Segoe UI", sans-serif;
        background: radial-gradient(
            1200px circle at 10% 10%,
            rgba(92, 170, 255, 0.6),
            transparent 60%
          ),
          radial-gradient(
            900px circle at 90% 15%,
            rgba(77, 238, 255, 0.45),
            transparent 55%
          ),
          linear-gradient(160deg, var(--bg-1), var(--bg-2) 45%, var(--bg-3));
        color: #f8fbff;
      }

      h1,
      h2,
      h3 {
        font-family: "Space Grotesk", "Segoe UI", sans-serif;
      }

      .glass-card {
        background: var(--glass);
        border: 1px solid var(--glass-border);
        box-shadow: 0 30px 80px rgba(6, 24, 70, 0.45);
        backdrop-filter: blur(18px);
      }

      .glass-panel {
        background: var(--glass-strong);
        border: 1px solid rgba(255, 255, 255, 0.28);
        box-shadow: 0 14px 40px rgba(10, 40, 100, 0.35);
        backdrop-filter: blur(16px);
      }

      .glass-input {
        background: rgba(255, 255, 255, 0.14);
        border: 1px solid rgba(255, 255, 255, 0.35);
        color: #f8fbff;
      }

      .glass-input::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .glass-input:focus {
        outline: none;
        border-color: rgba(125, 211, 252, 0.9);
        box-shadow: 0 0 0 3px rgba(125, 211, 252, 0.35);
      }

      .btn-primary {
        background: linear-gradient(135deg, #4aa8ff, #6fe0ff);
        color: #052452;
        font-weight: 600;
        box-shadow: 0 14px 30px rgba(18, 120, 255, 0.35);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 18px 34px rgba(18, 120, 255, 0.45);
      }

      .btn-primary:active {
        transform: translateY(0);
      }

      .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.4);
        background: rgba(255, 255, 255, 0.12);
        padding: 0.4rem 0.9rem;
        font-size: 0.65rem;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        color: rgba(255, 255, 255, 0.8);
      }

      .orb {
        position: absolute;
        border-radius: 9999px;
        opacity: 0.8;
        mix-blend-mode: screen;
        animation: float 18s ease-in-out infinite;
      }

      .orb-one {
        width: 420px;
        height: 420px;
        top: -140px;
        left: -90px;
        background: radial-gradient(
          circle at 30% 30%,
          rgba(125, 211, 252, 0.9),
          transparent 62%
        );
      }

      .orb-two {
        width: 360px;
        height: 360px;
        bottom: -140px;
        right: -90px;
        background: radial-gradient(
          circle at 70% 30%,
          rgba(82, 145, 255, 0.9),
          transparent 62%
        );
        animation-delay: -6s;
      }

      .orb-three {
        width: 240px;
        height: 240px;
        top: 35%;
        right: 15%;
        background: radial-gradient(
          circle at 40% 40%,
          rgba(74, 226, 255, 0.75),
          transparent 60%
        );
        animation-delay: -12s;
      }

      .bg-grid {
        position: absolute;
        inset: 0;
        background-image: linear-gradient(
            rgba(255, 255, 255, 0.12) 1px,
            transparent 1px
          ),
          linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.12) 1px,
            transparent 1px
          );
        background-size: 56px 56px;
        opacity: 0.18;
        pointer-events: none;
      }

      .fade-up {
        opacity: 0;
        transform: translateY(16px);
        animation: fadeUp 0.9s ease forwards;
      }

      @keyframes float {
        0%,
        100% {
          transform: translate3d(0, 0, 0);
        }
        50% {
          transform: translate3d(0, 20px, 0);
        }
      }

      @keyframes fadeUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (prefers-reduced-motion: reduce) {
        .orb,
        .fade-up,
        .btn-primary {
          animation: none !important;
          transition: none !important;
        }
      }
    </style>
  </head>
  <body class="min-h-screen text-white antialiased">
    <div class="relative min-h-screen overflow-hidden">
      <div class="absolute inset-0">
        <div class="orb orb-one"></div>
        <div class="orb orb-two"></div>
        <div class="orb orb-three"></div>
        <div class="bg-grid"></div>
      </div>

      <main
        class="relative mx-auto flex w-full max-w-6xl flex-col gap-12 px-6 py-16 lg:flex-row lg:items-start"
      >
        <header class="flex-1 space-y-6 fade-up" style="animation-delay: 0.05s">
          <span class="badge">Live NOAA</span>
          <div class="space-y-4">
            <h1 class="text-4xl font-semibold leading-tight sm:text-5xl lg:text-6xl">
              Weather App
            </h1>
            <p class="max-w-xl text-base text-white/80 sm:text-lg">
              Glassmorphic forecasts with a bright blue atmosphere and
              NOAA-powered detail. Drop in coordinates to pull the latest
              conditions and upcoming periods.
            </p>
          </div>
          <div class="grid gap-4 sm:grid-cols-2">
            <div class="glass-panel rounded-2xl p-4">
              <p class="text-xs uppercase tracking-[0.2em] text-white/60">
                Coordinates
              </p>
              <p class="mt-2 text-lg font-semibold">{{ lat }}, {{ lon }}</p>
            </div>
            <div class="glass-panel rounded-2xl p-4">
              <p class="text-xs uppercase tracking-[0.2em] text-white/60">
                Forecast Window
              </p>
              {% if forecast %}
                <p class="mt-2 text-lg font-semibold">
                  {{ forecast.period.name }}
                </p>
              {% else %}
                <p class="mt-2 text-lg font-semibold">Awaiting update</p>
              {% endif %}
            </div>
          </div>
          <p class="text-xs text-white/60">Data source: api.weather.gov</p>
        </header>

        <section
          class="glass-card w-full max-w-xl flex-1 rounded-3xl p-6 sm:p-8 fade-up"
          style="animation-delay: 0.15s"
        >
          <form method="get" class="grid gap-4">
            <div class="grid gap-4 sm:grid-cols-2">
              <div>
                <label for="lat" class="text-sm font-medium text-white/70"
                  >Latitude</label
                >
                <input
                  id="lat"
                  name="lat"
                  type="text"
                  inputmode="decimal"
                  value="{{ lat }}"
                  placeholder="37.7749"
                  class="glass-input mt-2 w-full rounded-2xl px-4 py-2 text-sm"
                />
              </div>
              <div>
                <label for="lon" class="text-sm font-medium text-white/70"
                  >Longitude</label
                >
                <input
                  id="lon"
                  name="lon"
                  type="text"
                  inputmode="decimal"
                  value="{{ lon }}"
                  placeholder="-122.4194"
                  class="glass-input mt-2 w-full rounded-2xl px-4 py-2 text-sm"
                />
              </div>
            </div>
            <button
              class="btn-primary w-full rounded-2xl px-5 py-2 text-sm sm:w-auto"
              type="submit"
            >
              Get forecast
            </button>
          </form>

          <div class="mt-6 space-y-4">
            {% if error %}
              <div
                class="glass-panel rounded-2xl border border-rose-200/40 bg-rose-500/10 p-4 text-rose-50"
              >
                <p class="text-sm font-medium">{{ error }}</p>
              </div>
            {% elif forecast %}
              <div class="glass-panel rounded-2xl p-5">
                <div
                  class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"
                >
                  <div>
                    <p class="text-sm text-white/70">
                      {{ forecast.location }}
                    </p>
                    <p class="text-4xl font-semibold">
                      {{ forecast.period.temperature }}°{{ forecast.period.temperatureUnit }}
                    </p>
                    <p class="text-sm text-white/70">
                      {{ forecast.period.shortForecast }}
                    </p>
                  </div>
                  <div class="text-left sm:text-right">
                    <p class="text-sm font-medium text-white">
                      {{ forecast.period.name }}
                    </p>
                    <p class="text-sm text-white/70">
                      Wind {{ forecast.period.windSpeed }} {{ forecast.period.windDirection }}
                    </p>
                    {% if forecast.next_period %}
                      <p class="text-sm text-white/70">
                        Next: {{ forecast.next_period.name }} ·
                        {{ forecast.next_period.temperature }}°{{ forecast.next_period.temperatureUnit }}
                        · {{ forecast.next_period.shortForecast }}
                      </p>
                    {% endif %}
                  </div>
                </div>
                <div class="my-4 h-px bg-white/15"></div>
                <p class="text-sm text-white/75">
                  {{ forecast.period.detailedForecast }}
                </p>
              </div>
            {% else %}
              <div class="glass-panel rounded-2xl p-4">
                <p class="text-sm text-white/70">
                  Enter coordinates to load the latest forecast from
                  api.weather.gov.
                </p>
              </div>
            {% endif %}
          </div>
        </section>
      </main>
    </div>
  </body>
</html>
