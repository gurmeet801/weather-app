{# 7-Day Forecast Component #}
{# Variables: forecast (required) #}
<section class="card forecast-card" style="--delay: 0.2s;">
  <div class="card-title">7-Day Forecast</div>
  {% if forecast.daily_forecast %}
  <div id="daily-forecast-list" class="forecast-list">
    {% for day in forecast.daily_forecast %}
    <button
      type="button"
      class="forecast-row"
      data-day-key="{{ day.key }}"
      data-day-name="{{ day.name }}"
      data-day-date="{{ day.date_label }}"
      data-day-summary="{{ day.shortForecast | default('', true) }}"
      data-day-high="{{ day.high | default('', true) }}"
      data-day-low="{{ day.low | default('', true) }}"
      data-day-unit="{{ day.temperatureUnit | default('', true) }}"
      aria-haspopup="dialog"
      aria-controls="day-detail-modal"
    >
      <div>
        <div class="forecast-day">{{ day.name }}</div>
        <div class="forecast-date">{{ day.date_label }}</div>
      </div>
      <div class="forecast-condition">
        <svg class="forecast-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8z"/>
        </svg>
        <span>{{ day.shortForecast | default('--', true) }}</span>
      </div>
      <div class="forecast-temps">
        <div class="temp-block">
          <div class="temp-label">High</div>
          <div class="forecast-high">
            {% if day.high is not none %}{{ day.high }}&deg;{{ day.temperatureUnit | default('', true) }}{% else %}--{% endif %}
          </div>
        </div>
        <div class="temp-block">
          <div class="temp-label">Low</div>
          <div class="forecast-low">
            {% if day.low is not none %}{{ day.low }}&deg;{{ day.temperatureUnit | default('', true) }}{% else %}--{% endif %}
          </div>
        </div>
      </div>
    </button>
    {% endfor %}
  </div>
  {% else %}
  <div class="glass-panel-subtle rounded-xl p-3 text-center">
    <p class="text-white/60">Extended forecast unavailable</p>
  </div>
  {% endif %}
</section>
